(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{460:function(e,l,t){"use strict";t.r(l);var o={layout:"layout",head:function(){return{title:"内容模块配置"}},data:function(){return{key:"",form:{auditlevel:"",contentAuditlevel:"",forbidden:"",fields:"",disableCode:!1,allowDelete:!1}}},beforeDestroy:function(){},created:function(){},mounted:function(){var e=this;localStorage.getItem("webkey")?e.key=localStorage.getItem("webkey"):(e.$message({message:"认证失效！",type:"error"}),e.$router.push({path:"/"})),e.getConfig()},methods:{save:function(){var e=this,l=e.form;e.form.disableCode,l.disableCode,e.form.allowDelete,l.allowDelete;var data={webkey:e.key,params:JSON.stringify(l)},t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});e.$axios.$post(e.$api.apiConfigUpdate(),this.qs.stringify(data)).then((function(l){t.close(),1==l.code?(e.$message({message:l.msg,type:"success"}),e.getConfig()):e.$message({message:l.msg,type:"error"})})).catch((function(l){t.close(),console.log(l),e.$message({message:"接口请求异常，请检查网络！",type:"error"})}))},getConfig:function(){var e=this,data={webkey:e.key};e.$axios.$post(e.$api.getApiConfig(),this.qs.stringify(data)).then((function(l){1==l.code&&(l.data.auditlevel&&(e.form.auditlevel=l.data.auditlevel+""),l.data.contentAuditlevel&&(e.form.contentAuditlevel=l.data.contentAuditlevel+""),e.form.forbidden=l.data.forbidden,e.form.fields=l.data.fields,1==l.data.disableCode?e.form.disableCode=!0:e.form.disableCode=!1,1==l.data.allowDelete?e.form.allowDelete=!0:e.form.allowDelete=!1)})).catch((function(l){console.log(l),e.$message({message:"接口请求异常，请检查网络！",type:"error"})}))}}},r=t(26),component=Object(r.a)(o,(function(){var e=this,l=e._self._c;return l("div",{staticClass:"page-container"},[l("el-row",{attrs:{gutter:15}},[l("el-col",{attrs:{span:24}},[l("div",{staticClass:"data-box"},[l("div",{staticClass:"page-title"},[l("h4",[e._v("内容模块配置")]),e._v(" "),l("p",[e._v("配置内容模块相关参数和功能开关。")])]),e._v(" "),l("div",{staticClass:"page-form"},[l("el-form",{ref:"form",attrs:{model:e.form,"label-position":"top","label-width":"80px"}},[l("el-form-item",[l("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("评论审核等级"),l("span",[e._v("管理人员发布无需审核")])]),e._v(" "),l("el-select",{attrs:{placeholder:"请选择评论审核等级"},model:{value:e.form.auditlevel,callback:function(l){e.$set(e.form,"auditlevel",l)},expression:"form.auditlevel"}},[l("el-option",{attrs:{label:"直接发布",value:"0"}}),e._v(" "),l("el-option",{attrs:{label:"第一次评论审核",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"违禁词匹配审核",value:"2"}}),e._v(" "),l("el-option",{attrs:{label:"违禁词匹配拦截",value:"3"}}),e._v(" "),l("el-option",{attrs:{label:"默认全部审核",value:"4"}})],1)],1),e._v(" "),l("el-form-item",[l("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("内容审核等级"),l("span",[e._v("管理人员发布无需审核")])]),e._v(" "),l("el-select",{attrs:{placeholder:"请选择内容审核等级"},model:{value:e.form.contentAuditlevel,callback:function(l){e.$set(e.form,"contentAuditlevel",l)},expression:"form.contentAuditlevel"}},[l("el-option",{attrs:{label:"直接发布",value:"0"}}),e._v(" "),l("el-option",{attrs:{label:"违禁词匹配审核",value:"1"}}),e._v(" "),l("el-option",{attrs:{label:"默认全部审核",value:"2"}})],1)],1),e._v(" "),l("el-form-item",[l("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("违禁词"),l("span",[e._v("违禁词将用于评论审核，个性签名拦截。根据英文逗号”,“进行分割，不要存在换行或者空格。")])]),e._v(" "),l("el-input",{attrs:{type:"textarea",placeholder:"请输入违禁词"},model:{value:e.form.forbidden,callback:function(l){e.$set(e.form,"forbidden",l)},expression:"form.forbidden"}})],1),e._v(" "),l("el-form-item",[l("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("文章自定义字段"),l("span",[e._v("输入字段的名称，根据英文逗号”,“进行分割。配置后，可通过自定义字段接口为文章设置自定义字段。")])]),e._v(" "),l("el-input",{attrs:{placeholder:"请输入文章自定义字段"},model:{value:e.form.fields,callback:function(l){e.$set(e.form,"fields",l)},expression:"form.fields"}})],1),e._v(" "),l("el-form-item",[l("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("敏感代码禁用模式"),l("span",[e._v("开启后，则发布文章，商品，评论，都将禁用js或者嵌套代码")])]),e._v(" "),l("el-switch",{model:{value:e.form.disableCode,callback:function(l){e.$set(e.form,"disableCode",l)},expression:"form.disableCode"}})],1),e._v(" "),l("el-form-item",[l("p",{staticClass:"form-label",attrs:{slot:"label"},slot:"label"},[e._v("用户删除权限"),l("span",[e._v("允许用户删除自己的内容（评论，文章）")])]),e._v(" "),l("el-switch",{model:{value:e.form.allowDelete,callback:function(l){e.$set(e.form,"allowDelete",l)},expression:"form.allowDelete"}})],1),e._v(" "),l("el-form-item",[l("el-button",{attrs:{type:"primary"},on:{click:function(l){return e.save()}}},[e._v("保存设置")])],1)],1)],1)])])],1)],1)}),[],!1,null,null,null);l.default=component.exports}}]);